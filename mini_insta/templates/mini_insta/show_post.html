<!--
File: show_post.html
Author: Berk Komurcuoglu (berkkom@bu.edu), 2/20/2026
Description: Displays a single Post (caption + timestamp) and all Photos associated with that Post.
-->
{% extends "mini_insta/base.html" %}

{% block content %}
<div class="post-page">
  <p>
    <a href="{% url 'update_post' post.pk %}">Update</a>
    â€¢
    <a href="{% url 'delete_post' post.pk %}">Delete</a>
  </p>
  <h2 class="page-title">Post by @{{ post.profile.username }}</h2>

  <p><strong>Timestamp:</strong> {{ post.timestamp }}</p>

  <p><strong>Likes:</strong> {{ post.get_num_likes }}</p>

  {% if post.caption %}
    <p><strong>Caption:</strong> {{ post.caption }}</p>
  {% else %}
    <p><em>No caption.</em></p>
  {% endif %}

  <h3>Comments</h3>
  
  <ul>
    {% for c in post.get_all_comments %}
      <li>
        <strong>@{{ c.profile.username }}</strong>: {{ c.text }}
        <br>
        <small>{{ c.timestamp }}</small>
      </li>
    {% empty %}
      <li><em>No comments yet.</em></li>
    {% endfor %}
  </ul>

  <h3>Photos</h3>

  <div class="photo-grid">
    {% for photo in post.get_all_photos %}
      <div class="photo-card">
        <img class="post-photo" src="{{ photo.get_image_url }}" alt="Post photo">
      </div>
    {% empty %}
      <p><em>No photos for this post.</em></p>
    {% endfor %}
  </div>
</div>
{% endblock %}